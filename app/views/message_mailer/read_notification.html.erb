<% content_for :preheader do %>
  <%= @message.title %> was just opened
<% end %>

<!-- Icon -->
<div style="text-align: center; margin-bottom: 24px;">
  <div style="display: inline-block; width: 56px; height: 56px; background-color: #ECFDF5; border-radius: 50%; line-height: 56px; text-align: center;">
    <span style="font-size: 24px;">&#10003;</span>
  </div>
</div>

<!-- Heading -->
<h1 style="margin: 0 0 8px; font-size: 24px; font-weight: 700; color: #111827; text-align: center;">
  Your message was opened
</h1>

<p style="margin: 0 0 32px; font-size: 16px; color: #6b7280; text-align: center;">
  Someone just viewed your message
</p>

<!-- Message details card -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="background-color: #f9fafb; border-radius: 8px; margin-bottom: 32px;">
  <tr>
    <td style="padding: 20px;">
      <!-- Title -->
      <p style="margin: 0 0 4px; font-size: 12px; font-weight: 500; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">
        Message
      </p>
      <p style="margin: 0 0 16px; font-size: 16px; font-weight: 600; color: #111827;">
        <%= @message.title %>
      </p>

      <!-- Stats row -->
      <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
        <tr>
          <td width="50%" style="vertical-align: top;">
            <p style="margin: 0 0 4px; font-size: 12px; font-weight: 500; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">
              Total views
            </p>
            <p style="margin: 0; font-size: 20px; font-weight: 700; color: #4F46E5;">
              <%= @read_count %>
            </p>
          </td>
          <td width="50%" style="vertical-align: top;">
            <p style="margin: 0 0 4px; font-size: 12px; font-weight: 500; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">
              Opened
            </p>
            <p style="margin: 0; font-size: 14px; font-weight: 500; color: #111827;">
              Just now
            </p>
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>

<!-- CTA Button -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
  <tr>
    <td align="center">
      <a href="<%= share_message_url(@message.token) %>" style="display: inline-block; padding: 14px 32px; background-color: #4F46E5; color: #ffffff; font-size: 16px; font-weight: 600; text-decoration: none; border-radius: 8px;">
        View Details
      </a>
    </td>
  </tr>
</table>

<!-- Footer note -->
<p style="margin: 32px 0 0; font-size: 13px; color: #9ca3af; text-align: center;">
  You're receiving this because you enabled notifications for this message.
</p>
