<% content_for :preheader do %>
  You've used all 10 free messages. Upgrade to Pro or wait for reset on <%= @reset_date.strftime("%B %d") %>.
<% end %>

<!-- Icon -->
<div style="text-align: center; margin-bottom: 24px;">
  <div style="display: inline-block; width: 56px; height: 56px; background-color: #FEF3C7; border-radius: 50%; line-height: 56px; text-align: center;">
    <span style="font-size: 24px;">&#128172;</span>
  </div>
</div>

<!-- Heading -->
<h1 style="margin: 0 0 24px; font-size: 24px; font-weight: 700; color: #111827; text-align: center;">
  You've reached your monthly limit
</h1>

<p style="margin: 0 0 24px; font-size: 16px; color: #374151; line-height: 1.6;">
  Hi <%= @name %>,
</p>

<p style="margin: 0 0 24px; font-size: 16px; color: #374151; line-height: 1.6;">
  You've used all <strong>10 free messages</strong> this month.
</p>

<p style="margin: 0 0 24px; font-size: 16px; color: #374151; line-height: 1.6;">
  Your existing messages still work fine, but you won't be able to create new ones until <strong><%= @reset_date.strftime("%B %d, %Y") %></strong>.
</p>

<p style="margin: 0 0 24px; font-size: 16px; color: #374151; line-height: 1.6;">
  Want to keep going? Upgrade to Pro:
</p>

<!-- CTA Button -->
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
  <tr>
    <td align="center">
      <a href="<%= pricing_url %>" style="display: inline-block; padding: 14px 32px; background-color: #4F46E5; color: #ffffff; font-size: 16px; font-weight: 600; text-decoration: none; border-radius: 8px;">
        Upgrade to Pro &mdash; $12/month
      </a>
    </td>
  </tr>
</table>

<!-- Features checklist -->
<div style="background-color: #f9fafb; border-radius: 8px; padding: 20px; margin-bottom: 24px;">
  <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
    <tr>
      <td style="padding: 6px 0;">
        <table role="presentation" cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td style="padding-right: 10px; color: #10B981; font-size: 16px;">&#10003;</td>
            <td style="font-size: 14px; color: #374151;">Unlimited messages</td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td style="padding: 6px 0;">
        <table role="presentation" cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td style="padding-right: 10px; color: #10B981; font-size: 16px;">&#10003;</td>
            <td style="font-size: 14px; color: #374151;">Advanced analytics</td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td style="padding: 6px 0;">
        <table role="presentation" cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td style="padding-right: 10px; color: #10B981; font-size: 16px;">&#10003;</td>
            <td style="font-size: 14px; color: #374151;">1-year history</td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td style="padding: 6px 0;">
        <table role="presentation" cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td style="padding-right: 10px; color: #10B981; font-size: 16px;">&#10003;</td>
            <td style="font-size: 14px; color: #374151;">14-day free trial</td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</div>

<!-- Alternative -->
<p style="margin: 0 0 32px; font-size: 14px; color: #6b7280; text-align: center;">
  Or just wait for your limit to reset on <%= @reset_date.strftime("%B %d") %>.
</p>

<!-- Divider -->
<hr style="border: none; border-top: 1px solid #e5e7eb; margin: 32px 0;">

<!-- Sign off -->
<p style="margin: 0; font-size: 14px; color: #374151;">
  Best,<br>
  The MessageOpen Team
</p>
